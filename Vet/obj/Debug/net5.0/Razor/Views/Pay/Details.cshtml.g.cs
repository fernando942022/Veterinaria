#pragma checksum "C:\Users\FFernandez\source\repos\Vet\Vet\Views\Pay\Details.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "7c3717c73fe4238bde737ceb54852bc73ecb9f2d"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Pay_Details), @"mvc.1.0.view", @"/Views/Pay/Details.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\FFernandez\source\repos\Vet\Vet\Views\_ViewImports.cshtml"
using Vet;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\FFernandez\source\repos\Vet\Vet\Views\_ViewImports.cshtml"
using Vet.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"7c3717c73fe4238bde737ceb54852bc73ecb9f2d", @"/Views/Pay/Details.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"d857119458fb2584755616faf8d842a76bb13a32", @"/Views/_ViewImports.cshtml")]
    public class Views_Pay_Details : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("<div class=\"col-12\">\r\n    <p class=\"text-center\">\r\n        <b>Lucas Vet</b><br />Fundeci tercera etapa, 22458796, lucas.vet");
            WriteLiteral(@"@gmail.com<br /><br /><b>Payment Detail!!</b>
    </p>
</div><br />

<div class=""col-4 float-left"">
<dl>
    <dt id=""titlePay""></dt>
    <dt >Owner</dt>
        <dd id=""owner""></dd>
    <dt>Pet</dt>
        <dd id=""pet""></dd>
</dl>
</div>

<div class=""col-8 float-right"" id=""detailPay"">
    <table class=""table"" id=""tablePay"">
    </table><br />

    <table class=""table"" id=""tableQuota"">
    </table>
</div>

");
            DefineSection("scripts", async() => {
                WriteLiteral(@" 
    <script>
        var consulId, payId;
        var medicalChart;
        $(document).ready(function () {
            var dirUrl = $(location).attr('search').split(""="");
            consultId = parseInt(dirUrl[1]);
            payId = parseInt(dirUrl[2]);;

            //Realizamos un ajax para obtener los datos de la consulta cuyo id viene en la url.
            $.ajax({
                url: """);
#nullable restore
#line 37 "C:\Users\FFernandez\source\repos\Vet\Vet\Views\Pay\Details.cshtml"
                 Write(Url.Action("Index", "Consult"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@""",
                data: { consultId },
                type: ""Post""
                }).done(function (result) {
                    // si el resultado de la consulta tiene registro se genera la lista
                    if (result != """") {
                        alert(result[0][""petName""]);
                        payTitle = ""Vet-"" + result[0][""petName""] + ""-"" + consultId + ""-"" + result[0][""ownerName""];
                        $(""#titlePay"").text(payTitle);

                        $(""#owner"").text("" - "" + result[0][""ownerName""]);
                        $(""#pet"").text("" - "" + result[0][""petName""]);
                        medicalChart = result[0][""medicalChart""];

                    }
                    else {
                        alert(""Error. Fail"");

                    }

                });
            //Obtenemos los datos del pago
            $.ajax({
                url: """);
#nullable restore
#line 60 "C:\Users\FFernandez\source\repos\Vet\Vet\Views\Pay\Details.cshtml"
                 Write(Url.Action("Index", "Pay"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@""",
                data: { consultId },
                type: ""Post""
            }).done(function (result) {
                if (result[0][""paymentType""] == ""Cash"") {
                    $(""#tablePay"").append(""<tr><td>Payment Date: </td><td>"" + result[0][""paymentDate""] + ""</td></tr><tr><td>Payment Type: </td><td>"" + result[0][""paymentType""] + ""</td></tr><tr><td>Payment Amount: </td><td>"" + result[0][""paymentAmount""] + ""</td></tr><tr class='thead-dark'><td>Total: </td><td>"" + result[0][""paymentAmount""] + ""</td></tr>"");
                }
                
                if (result[0][""paymentType""] == ""Fee payment"") {
                    var tableQuota = $(""#tablePay"");
                    $.ajax({
                        url: """);
#nullable restore
#line 71 "C:\Users\FFernandez\source\repos\Vet\Vet\Views\Pay\Details.cshtml"
                         Write(Url.Action("ListQuota", "Quota"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@""",
                        data: { payId },
                        type: ""Post""
                    }).done(function (dataQuota) {
                        if (dataQuota != """") {
                            $(""#tablePay"").append(""<tr><td>Payment Type: </td><td>"" + result[0][""paymentType""] + ""</td></tr><tr class='thead-dark'><td>Total: </td><td>"" + result[0][""paymentAmount""] + ""</td></tr>"");

                            tableQuota.append(""<tr><th>Quota Details</th></tr><tr><th>Quota Date</th><th>Payment Amount</th></tr>"");
                            $.each(dataQuota, function (index, valQuota) {
                                tableQuota.append(""<tr><td>"" + dataQuota[index][""quotaDate""] + ""</td><td>"" + dataQuota[index][""paymentAmount""] + ""</td></tr>"");
                            });
                            tableQuota.append(""<tr><th>Total</th><th>"" + dataQuota[index][""total""] + ""</th></tr>"");
                        }

                    });

                }
            });

       ");
                WriteLiteral(" });\r\n\r\n    </script>\r\n");
            }
            );
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
